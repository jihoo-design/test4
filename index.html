<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìœ¤ë¦´ë¼ ì§„í™” í€˜ìŠ¤íŠ¸ â€“ ê¶ê·¹ ë²„ì „</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "ë§‘ì€ ê³ ë”•", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #c5e1a5 0, #f1f8e9 40%, #ffffff 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game {
            width: 100%;
            max-width: 520px;
            background-color: #ffffff;
            border-radius: 26px;
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.2);
            padding: 16px 16px 18px;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
        }

        .badge {
            position: absolute;
            top: 14px;
            right: 16px;
            font-size: 11px;
            background-color: #7cb342;
            color: #fff;
            padding: 4px 8px;
            border-radius: 999px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        }

        /* ===== B íƒ€ì…: í° íˆì–´ë¡œ ì´ë¯¸ì§€ ===== */
        .hero {
            position: relative;
            margin-bottom: 12px;
            border-radius: 20px;
            overflow: hidden;
            height: 210px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.28);
        }

        .hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .hero-overlay {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 10px 12px;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .hero-title {
            font-size: 17px;
            font-weight: 800;
        }

        .hero-sub {
            font-size: 12px;
            opacity: 0.9;
        }

        .hero-pill {
            font-size: 11px;
            background-color: rgba(255,255,255,0.12);
            padding: 4px 8px;
            border-radius: 999px;
        }

        /* ===== A íƒ€ì…: í´ë¦­ ê°€ëŠ¥í•œ ì•„ë°”íƒ€ + íƒ€ì´í‹€ ë¼ì¸ ===== */
        .header-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .avatar {
            width: 76px;
            height: 76px;
            border-radius: 22px;
            overflow: hidden;
            background: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
            cursor: pointer;
            user-select: none;
            position: relative;
            transition: transform 0.08s;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translateY(-6px); /* ì–¼êµ´ ìª½ìœ¼ë¡œ ì‚´ì§ ë‹¹ê²¨ë³´ê¸° */
        }

        .avatar:active {
            transform: scale(0.96);
        }

        .avatar-label {
            position: absolute;
            bottom: 4px;
            right: 6px;
            font-size: 10px;
            background-color: rgba(0,0,0,0.7);
            color: #fff;
            padding: 2px 6px;
            border-radius: 999px;
        }

        .title-wrap {
            display: flex;
            flex-direction: column;
        }

        .title-main {
            font-size: 19px;
            font-weight: 800;
            color: #33691e;
        }

        .title-sub {
            font-size: 12px;
            color: #558b2f;
        }

        .hint {
            font-size: 11px;
            color: #9e9e9e;
            margin-top: 2px;
        }

        /* ===== ìƒíƒœ, ê²Œì´ì§€ ===== */
        .status-box {
            background-color: #f1f8e9;
            border-radius: 16px;
            padding: 10px 11px 9px;
            margin-bottom: 10px;
            border: 1px solid #c5e1a5;
            font-size: 12px;
            color: #455a64;
        }

        .status-line {
            margin-bottom: 4px;
        }

        .status-line strong {
            color: #33691e;
        }

        .progress-wrap {
            margin-top: 4px;
        }

        .progress-label {
            font-size: 11px;
            color: #78909c;
            margin-bottom: 2px;
        }

        .progress-bar-bg {
            background-color: #e0e0e0;
            border-radius: 999px;
            overflow: hidden;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #aed581, #7cb342);
            transition: width 0.25s;
        }

        .progress-bar.super {
            background: linear-gradient(90deg, #ffe082, #ffb300);
        }

        /* ===== í€˜ìŠ¤íŠ¸ ì¹´ë“œ ===== */
        .quests {
            background-color: #fafafa;
            border-radius: 16px;
            padding: 10px 11px 9px;
            border: 1px solid #e0e0e0;
            margin-bottom: 10px;
        }

        .quests-title {
            font-size: 13px;
            font-weight: 700;
            color: #455a64;
            margin-bottom: 4px;
        }

        .quest {
            display: flex;
            align-items: flex-start;
            gap: 6px;
            font-size: 12px;
            margin-bottom: 3px;
        }

        .quest-check {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid #b0bec5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: #fff;
            background-color: #eceff1;
        }

        .quest-check.done {
            background-color: #8bc34a;
            border-color: #689f38;
        }

        .quest-text {
            flex: 1;
            color: #546e7a;
        }

        .quest-text span {
            color: #33691e;
            font-weight: 600;
        }

        /* ===== ë²„íŠ¼ë“¤ ===== */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        button {
            padding: 7px 12px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            font-size: 12px;
            white-space: nowrap;
            transition: filter 0.15s, transform 0.05s, box-shadow 0.15s;
        }

        button:active {
            transform: translateY(1px);
        }

        .btn-main {
            background-color: #8bc34a;
            color: #1b5e20;
            font-weight: 700;
            box-shadow: 0 3px 8px rgba(139,195,74,0.45);
        }

        .btn-main:hover {
            filter: brightness(1.03);
        }

        .btn-sub {
            background-color: #e8f5e9;
            color: #33691e;
        }

        .btn-ghost {
            background-color: #fafafa;
            color: #546e7a;
            border: 1px solid #d0d0d0;
        }

        /* ===== C íƒ€ì…: ì¸ê°„ vs ê³ ë¦´ë¼ ë¹„êµ ê°¤ëŸ¬ë¦¬ ===== */
        .gallery {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 10px;
        }

        .gallery-card {
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
            background-color: #fdfdfd;
            position: relative;
            height: 120px;
        }

        .gallery-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-label {
            position: absolute;
            left: 6px;
            bottom: 4px;
            font-size: 11px;
            background-color: rgba(0,0,0,0.65);
            color: #fff;
            padding: 2px 6px;
            border-radius: 999px;
        }

        .gallery-mask {
            position: absolute;
            inset: 0;
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(2px);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: #757575;
        }

        .gallery-card.gorilla-evolved .gallery-mask {
            display: none;
        }

        /* ===== ë¡œê·¸ & ì—”ë”© ===== */
        .log {
            background-color: #ffffff;
            border-radius: 14px;
            padding: 8px 10px 6px;
            border: 1px dashed #cfd8dc;
            font-size: 11px;
            color: #607d8b;
            max-height: 80px;
            overflow-y: auto;
        }

        .log-title {
            font-weight: 700;
            margin-bottom: 2px;
        }

        .log-line {
            margin-bottom: 2px;
        }

        .log-line span {
            color: #33691e;
        }

        .ending {
            margin-top: 6px;
            font-size: 12px;
            color: #2e7d32;
            font-weight: 700;
            display: none;
        }

        /* ===== 1000 ìŠ¤íƒìš© ì´ˆê±°ëŒ€ ê³ ë¦´ë¼ ===== */
        .mega-gorilla {
            margin-top: 10px;
            border-radius: 18px;
            overflow: hidden;
            border: 2px solid #ffb300;
            background: #fff8e1;
            padding: 6px 6px 8px;
            display: none;
        }

        .mega-gorilla img {
            width: 100%;
            max-height: 260px;
            object-fit: cover;
            border-radius: 14px;
        }

        .mega-caption {
            margin-top: 4px;
            font-size: 12px;
            color: #ff6f00;
            font-weight: 700;
            text-align: center;
        }

        /* ===== íš¨ê³¼ ===== */
        .sparkle {
            position: absolute;
            font-size: 18px;
            pointer-events: none;
            animation: pop 0.6s ease-out forwards;
        }

        @keyframes pop {
            0%   { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-24px); opacity: 0; }
        }

        @keyframes evolve-bg {
            0%   { background: radial-gradient(circle at top, #c5e1a5 0, #f1f8e9 40%, #ffffff 100%); }
            100% { background: radial-gradient(circle at top, #ffe082 0, #ffe0b2 40%, #fff8e1 100%); }
        }

        .evolved-body {
            animation: evolve-bg 0.7s forwards;
        }

        .shake {
            animation: shake 0.35s ease-out;
        }

        @keyframes shake {
            0%   { transform: translateX(0); }
            25%  { transform: translateX(-3px); }
            50%  { transform: translateX(3px); }
            75%  { transform: translateX(-2px); }
            100% { transform: translateX(0); }
        }

        @media (max-width: 540px) {
            .game {
                margin: 8px;
            }
        }
    </style>
</head>
<body>

<div class="game" id="gameCard">
    <div class="badge" id="badgeText">ì¸ê°„ ëª¨ë“œ ì˜ì‹¬ ì¤‘</div>

    <!-- B: ìƒë‹¨ í° ì‚¬ì§„ -->
    <div class="hero">
        <!-- ì—¬ê¸° src="yoonho.jpg" / "gorilla.jpg" ë‘ íŒŒì¼ í•„ìš” -->
        <img id="heroImg" src="yoonho.jpg" alt="ìœ¤í˜¸ ë©”ì¸ ì‚¬ì§„">
        <div class="hero-overlay">
            <div>
                <div class="hero-title" id="heroTitle">ì¸ê°„(?) ìœ¤í˜¸ ê´€ì°° ê¸°ë¡</div>
                <div class="hero-sub" id="heroSub">ì§€ê¸ˆì€ ì¸ê°„ì¸ ì²™ í•˜ì§€ë§Œâ€¦ ë­”ê°€ ìˆ˜ìƒí•˜ë‹¤</div>
            </div>
            <div class="hero-pill" id="heroPill">HUMAN MODE</div>
        </div>
    </div>

    <!-- A: í´ë¦­ ê°€ëŠ¥í•œ ì•„ë°”íƒ€ -->
    <div class="header-row">
        <div class="avatar" id="avatar">
            <img id="avatarImg" src="yoonho.jpg" alt="ìœ¤í˜¸ ì•„ë°”íƒ€">
            <div class="avatar-label" id="avatarLabel">ì¸ê°„(?) ìœ¤í˜¸</div>
        </div>
        <div class="title-wrap">
            <div class="title-main">ìœ¤ë¦´ë¼ ì§„í™” í€˜ìŠ¤íŠ¸</div>
            <div class="title-sub">ì•„ë°”íƒ€ë¥¼ í´ë¦­í•˜ê³  ë²„íŠ¼ì„ ëˆŒëŸ¬ ì§„ì§œ ì •ì²´ë¥¼ ë°í˜€ë³´ì</div>
            <div class="hint">â€» ì•„ë°”íƒ€ í´ë¦­ + ë°”ë‚˜ë‚˜/ìš°ê°€ìš°ê°€ ë²„íŠ¼ìœ¼ë¡œ ê²Œì´ì§€ë¥¼ ì±„ìš°ë©´ ì§„í™”í•©ë‹ˆë‹¤.</div>
        </div>
    </div>

    <!-- ìƒíƒœ, ê²Œì´ì§€ -->
    <div class="status-box">
        <div class="status-line">
            <strong>í˜„ì¬ ìƒíƒœ :</strong>
            <span id="statusText">ì¸ê°„ ëª¨ë“œ(ì¸ ì²™) ìœ ì§€ ì¤‘...</span>
        </div>
        <div class="status-line">
            <strong>ì§„í™” ê²Œì´ì§€ :</strong>
            <span id="gaugeText">0 / 100</span>
        </div>
        <div class="progress-wrap">
            <div class="progress-label">1ë‹¨ê³„ ì§„í™” (ìœ¤ë¦´ë¼ ëª¨ë“œ)</div>
            <div class="progress-bar-bg">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
        <div class="progress-wrap" style="margin-top:6px;">
            <div class="progress-label">2ë‹¨ê³„ ê¶ê·¹ ì§„í™” â€“ ë°”ë‚˜ë‚˜ ìƒê° + ìš°ê°€ìš°ê°€ í•© 1000ë²ˆ</div>
            <div class="progress-bar-bg">
                <div class="progress-bar super" id="superBar"></div>
            </div>
            <div style="font-size:11px; color:#757575; margin-top:2px;">
                ìŠˆí¼ ìœ¤ë¦´ë¼ ê²Œì´ì§€ : <span id="superText">0 / 1000</span>
            </div>
        </div>
    </div>

    <!-- í€˜ìŠ¤íŠ¸ ëª©ë¡ -->
    <div class="quests">
        <div class="quests-title">í€˜ìŠ¤íŠ¸ ëª©ë¡</div>
        <div class="quest">
            <div class="quest-check" id="q1Check">â—‹</div>
            <div class="quest-text" id="q1Text">
                <span>í€˜ìŠ¤íŠ¸ 1:</span> ì¸ê°„ì¸ ì²™ í•˜ëŠ” ìœ¤í˜¸ ì•„ë°”íƒ€ë¥¼ <b>10ë²ˆ</b> í´ë¦­í•˜ê¸°
            </div>
        </div>
        <div class="quest">
            <div class="quest-check" id="q2Check">â—‹</div>
            <div class="quest-text" id="q2Text">
                <span>í€˜ìŠ¤íŠ¸ 2:</span> <b>ë°”ë‚˜ë‚˜ ìƒê°í•˜ê¸°</b> ë²„íŠ¼ì„ <b>3ë²ˆ</b> ì´ìƒ ëˆ„ë¥´ê¸°
            </div>
        </div>
        <div class="quest">
            <div class="quest-check" id="q3Check">â—‹</div>
            <div class="quest-text" id="q3Text">
                <span>í€˜ìŠ¤íŠ¸ 3:</span> <b>ìš°ê°€ìš°ê°€ ì™¸ì¹˜ê¸°</b> ë²„íŠ¼ì„ ìµœì†Œ <b>1ë²ˆ</b> ëˆ„ë¥´ê¸°
            </div>
        </div>
    </div>

    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="controls">
        <button class="btn-main" type="button" id="bananaBtn">ë°”ë‚˜ë‚˜ ìƒê°í•˜ê¸°</button>
        <button class="btn-sub" type="button" id="ugaBtn">ìš°ê°€ìš°ê°€ ì™¸ì¹˜ê¸°</button>
        <button class="btn-ghost" type="button" id="resetBtn">ë‹¤ì‹œ ì¸ê°„ìœ¼ë¡œ ëŒë¦¬ê¸°</button>
    </div>

    <!-- C: ì¸ê°„ vs ê³ ë¦´ë¼ ë¹„êµ ê°¤ëŸ¬ë¦¬ -->
    <div class="gallery">
        <div class="gallery-card" id="humanCard">
            <img src="yoonho.jpg" alt="ì¸ê°„ ìœ¤í˜¸">
            <div class="gallery-label">ì¸ê°„ ëª¨ë“œ â€“ ìœ¤í˜¸</div>
        </div>
        <div class="gallery-card" id="gorillaCard">
            <img src="gorilla.jpg" alt="ê³ ë¦´ë¼ ìœ¤ë¦´ë¼">
            <div class="gallery-label">ì§„í™” í›„ â€“ ìœ¤ë¦´ë¼</div>
            <div class="gallery-mask" id="gorillaMask">
                ì§„í™” ì „ / ì ê¸ˆ ìƒíƒœ ğŸ”’
            </div>
        </div>
    </div>

    <!-- ë¡œê·¸ + ì—”ë”© í…ìŠ¤íŠ¸ -->
    <div class="log" id="logBox">
        <div class="log-title">ë¡œê·¸</div>
    </div>

    <div class="ending" id="endingText">
        1ë‹¨ê³„ ìœ¤ë¦´ë¼ ì§„í™” ì™„ë£Œ! ğŸ¦  
        ì´ì œ ê³„ì† ë°”ë‚˜ë‚˜ì™€ ìš°ê°€ìš°ê°€ë¥¼ ì™¸ì³ì„œ ê¶ê·¹ ìœ¤ë¦´ë¼ë¥¼ ì†Œí™˜í•´ë³´ì„¸ìš”.
    </div>

    <!-- 1000 ìŠ¤íƒ ë‹¬ì„± ì‹œ ëœ¨ëŠ” ì´ˆê±°ëŒ€ ê³ ë¦´ë¼ -->
    <div class="mega-gorilla" id="megaGorilla">
        <img src="gorilla.jpg" alt="ìŠˆí¼ ìœ¤ë¦´ë¼">
        <div class="mega-caption">
            â˜… ê¶ê·¹ ìœ¤ë¦´ë¼ ì†Œí™˜ ì™„ë£Œ! â˜…<br>
            ë°”ë‚˜ë‚˜ & ìš°ê°€ìš°ê°€ 1000ìŠ¤íƒì„ ì±„ìš´ ìë§Œ ë³¼ ìˆ˜ ìˆëŠ” ì§„ì§œ ê³ ë¦´ë¼ ëª¨ë“œ
        </div>
    </div>
</div>

<script>
    // ===== ìƒíƒœ ë³€ìˆ˜ =====
    let avatarClickCount = 0;
    let bananaCount = 0;
    let ugaCount = 0;

    let evolved = false;      // 1ë‹¨ê³„ ì§„í™” ì—¬ë¶€
    let megaEvolved = false;  // 1000ìŠ¤íƒ ê¶ê·¹ ì§„í™” ì—¬ë¶€

    // ===== DOM ìš”ì†Œ =====
    const gameCard   = document.getElementById("gameCard");
    const badgeText  = document.getElementById("badgeText");

    const heroImg    = document.getElementById("heroImg");
    const heroTitle  = document.getElementById("heroTitle");
    const heroSub    = document.getElementById("heroSub");
    const heroPill   = document.getElementById("heroPill");

    const avatar     = document.getElementById("avatar");
    const avatarImg  = document.getElementById("avatarImg");
    const avatarLabel= document.getElementById("avatarLabel");

    const statusText = document.getElementById("statusText");
    const gaugeText  = document.getElementById("gaugeText");
    const progressBar= document.getElementById("progressBar");

    const superText  = document.getElementById("superText");
    const superBar   = document.getElementById("superBar");

    const q1Check    = document.getElementById("q1Check");
    const q2Check    = document.getElementById("q2Check");
    const q3Check    = document.getElementById("q3Check");

    const gorillaCard= document.getElementById("gorillaCard");
    const gorillaMask= document.getElementById("gorillaMask");

    const logBox     = document.getElementById("logBox");
    const endingText = document.getElementById("endingText");
    const megaGorilla= document.getElementById("megaGorilla");

    const bananaBtn  = document.getElementById("bananaBtn");
    const ugaBtn     = document.getElementById("ugaBtn");
    const resetBtn   = document.getElementById("resetBtn");

    // í€˜ìŠ¤íŠ¸ ëª©í‘œ
    const Q1_GOAL = 10;
    const Q2_GOAL = 3;
    const Q3_GOAL = 1;
    const SUPER_GOAL = 1000;

    // ===== ê³µí†µ í•¨ìˆ˜ =====
    function addLog(text) {
        const div = document.createElement("div");
        div.className = "log-line";
        div.innerHTML = "â–¶ <span>" + text + "</span>";
        logBox.appendChild(div);
        logBox.scrollTop = logBox.scrollHeight;
    }

    function sparkle(x, y) {
        const span = document.createElement("span");
        span.className = "sparkle";
        span.textContent = "âœ¨";
        span.style.left = x + "px";
        span.style.top = y + "px";
        gameCard.appendChild(span);
        setTimeout(() => span.remove(), 600);
    }

    function shake(elem) {
        elem.classList.remove("shake");
        void elem.offsetWidth;
        elem.classList.add("shake");
        setTimeout(() => elem.classList.remove("shake"), 400);
    }

    // 1ë‹¨ê³„ ì§„í™” ê²Œì´ì§€
    function updateGauge() {
        if (evolved) {
            gaugeText.textContent = "100 / 100";
            progressBar.style.width = "100%";
            return;
        }

        let percent = 0;
        // ê° í€˜ìŠ¤íŠ¸ ì§„í–‰ë„ ë¹„ìœ¨ë¡œ í•©ì‚° (ëŒ€ëµì ì¸ ëŠë‚Œë§Œ)
        percent += Math.min(avatarClickCount / Q1_GOAL, 1) * (100 / 3);
        percent += Math.min(bananaCount / Q2_GOAL, 1) * (100 / 3);
        percent += Math.min(ugaCount / Q3_GOAL, 1) * (100 / 3);

        percent = Math.floor(percent);
        if (percent > 100) percent = 100;

        gaugeText.textContent = percent + " / 100";
        progressBar.style.width = percent + "%";

        // í€˜ìŠ¤íŠ¸ ì²´í¬ UI
        if (avatarClickCount >= Q1_GOAL) {
            q1Check.textContent = "âœ”";
            q1Check.classList.add("done");
        }
        if (bananaCount >= Q2_GOAL) {
            q2Check.textContent = "âœ”";
            q2Check.classList.add("done");
        }
        if (ugaCount >= Q3_GOAL) {
            q3Check.textContent = "âœ”";
            q3Check.classList.add("done");
        }

        // 1ë‹¨ê³„ ì§„í™”
        if (percent >= 100 && !evolved) {
            evolveToGorilla();
        } else if (!evolved) {
            statusText.textContent = "ì¸ê°„ ëª¨ë“œ(ì¸ ì²™)ì§€ë§Œ, ì ì  ì •ì²´ê°€ ë“œëŸ¬ë‚˜ê³  ìˆìŠµë‹ˆë‹¤...";
        }
    }

    // ë°”ë‚˜ë‚˜ + ìš°ê°€ìš°ê°€ 1000 ìŠ¤íƒ ê²Œì´ì§€
    function updateSuperGauge() {
        const total = bananaCount + ugaCount;
        const percent = Math.min(100, Math.floor(total / SUPER_GOAL * 100));
        superText.textContent = total + " / " + SUPER_GOAL;
        superBar.style.width = percent + "%";

        if (percent >= 100 && !megaEvolved) {
            megaEvolved = true;
            megaGorilla.style.display = "block";
            addLog("â˜… ë°”ë‚˜ë‚˜ + ìš°ê°€ìš°ê°€ 1000ìŠ¤íƒ ë‹¬ì„±! ê¶ê·¹ ìœ¤ë¦´ë¼ê°€ ì†Œí™˜ë˜ì—ˆìŠµë‹ˆë‹¤!");
            shake(megaGorilla);
        }
    }

    function evolveToGorilla() {
        evolved = true;

        // ì•„ë°”íƒ€/íˆì–´ë¡œ ì´ë¯¸ì§€ ëª¨ë‘ ê³ ë¦´ë¼ë¡œ ë³€ê²½
        avatarImg.src = "gorilla.jpg";
        heroImg.style.opacity = "0";
        heroImg.style.transform = "scale(1.05)";
        setTimeout(() => {
            heroImg.src = "gorilla.jpg";
            heroImg.style.opacity = "1";
            heroImg.style.transform = "scale(1)";
        }, 250);

        avatarLabel.textContent = "ìœ¤ë¦´ë¼ ëª¨ë“œ";
        heroTitle.textContent = "ìœ¤ë¦´ë¼ ì§„í™” ì™„ë£Œ";
        heroSub.textContent = "ì´ì œ ì¸ê°„ì´ë¼ê³  ìš°ê¸°ê¸°ì—” ë„ˆë¬´ ëŠ¦ì—ˆìŠµë‹ˆë‹¤.";
        heroPill.textContent = "GORILLA MODE";

        badgeText.textContent = "ìœ¤ë¦´ë¼ ëª¨ë“œ ON";
        statusText.textContent = "ì •ì²´ê°€ ë“¤ì¼°ë‹¤! ìœ¤ë¦´ë¼ë¡œ ì§„í™”í–ˆìŠµë‹ˆë‹¤ ğŸ¦";
        document.body.classList.add("evolved-body");

        // ê°¤ëŸ¬ë¦¬ì—ì„œ ê³ ë¦´ë¼ ì¹´ë“œ ì ê¸ˆ í•´ì œ
        gorillaCard.classList.add("gorilla-evolved");
        gorillaMask.textContent = "ì§„í™” ì™„ë£Œ! ğŸ”“";

        endingText.style.display = "block";

        addLog("ìœ¤í˜¸ì˜ ì§„ì§œ ëª¨ìŠµì´ ë“œëŸ¬ë‚¬ë‹¤â€¦ ìœ¤ë¦´ë¼ ëª¨ë“œ ëŒì…!");
        shake(avatar);
    }

    function resetGame() {
        avatarClickCount = 0;
        bananaCount = 0;
        ugaCount = 0;
        evolved = false;
        megaEvolved = false;

        avatarImg.src = "yoonho.jpg";
        heroImg.src   = "yoonho.jpg";

        avatarLabel.textContent = "ì¸ê°„(?) ìœ¤í˜¸";
        heroTitle.textContent = "ì¸ê°„(?) ìœ¤í˜¸ ê´€ì°° ê¸°ë¡";
        heroSub.textContent   = "ì§€ê¸ˆì€ ì¸ê°„ì¸ ì²™ í•˜ì§€ë§Œâ€¦ ë­”ê°€ ìˆ˜ìƒí•˜ë‹¤";
        heroPill.textContent  = "HUMAN MODE";

        statusText.textContent = "ì¸ê°„ ëª¨ë“œ(ì¸ ì²™) ìœ ì§€ ì¤‘...";
        badgeText.textContent  = "ì¸ê°„ ëª¨ë“œ ì˜ì‹¬ ì¤‘";

        document.body.classList.remove("evolved-body");
        gaugeText.textContent = "0 / 100";
        progressBar.style.width = "0%";

        superText.textContent = "0 / " + SUPER_GOAL;
        superBar.style.width = "0%";

        // í€˜ìŠ¤íŠ¸ ì²´í¬ ì´ˆê¸°í™”
        [q1Check, q2Check, q3Check].forEach(el => {
            el.textContent = "â—‹";
            el.classList.remove("done");
        });

        // ê°¤ëŸ¬ë¦¬ ì ê¸ˆ ì´ˆê¸°í™”
        gorillaCard.classList.remove("gorilla-evolved");
        gorillaMask.textContent = "ì§„í™” ì „ / ì ê¸ˆ ìƒíƒœ ğŸ”’";

        // ì´ˆê³ ë¦´ë¼ ìˆ¨ê¹€
        megaGorilla.style.display = "none";

        addLog("ê²Œì„ì„ ì´ˆê¸°í™”í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì¸ê°„ì¸ ì²™í•˜ëŠ” ìœ¤í˜¸ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.");
    }

    // ===== ì´ë²¤íŠ¸ ë°”ì¸ë”© =====
    avatar.addEventListener("click", (e) => {
        avatarClickCount++;
        const rect = gameCard.getBoundingClientRect();
        sparkle(e.clientX - rect.left, e.clientY - rect.top);
        addLog("ìœ¤í˜¸ ì•„ë°”íƒ€ í´ë¦­! (" + avatarClickCount + " / " + Q1_GOAL + ")");
        updateGauge();
    });

    bananaBtn.addEventListener("click", () => {
        bananaCount++;
        addLog("ìœ¤í˜¸ê°€ ë°”ë‚˜ë‚˜ë¥¼ ìƒê°í•˜ê¸° ì‹œì‘í–ˆë‹¤â€¦ (" + bananaCount + "íšŒ)");
        updateGauge();
        updateSuperGauge();
    });

    ugaBtn.addEventListener("click", () => {
        ugaCount++;
        addLog("ìš°ê°€ìš°ê°€ ì™¸ì¹¨! (" + ugaCount + "íšŒ)");
        updateGauge();
        updateSuperGauge();
    });

    resetBtn.addEventListener("click", () => {
        resetGame();
    });

    // ì²˜ìŒ ì•ˆë‚´ ë¡œê·¸
    addLog("ê²Œì„ ì‹œì‘! ì•„ë°”íƒ€ë¥¼ í´ë¦­í•˜ê³ , ë°”ë‚˜ë‚˜/ìš°ê°€ìš°ê°€ ë²„íŠ¼ì„ ëˆŒëŸ¬ ìœ¤ë¦´ë¼ë¥¼ ì§„í™”ì‹œì¼œ ë³´ì„¸ìš”.");
    addLog("â€» ë°”ë‚˜ë‚˜ ìƒê°í•˜ê¸° + ìš°ê°€ìš°ê°€ ì™¸ì¹˜ê¸° í•©ê³„ 1000ë²ˆ ë‹¬ì„± ì‹œ, ì´ˆê±°ëŒ€ ê³ ë¦´ë¼ ëª¨ë“œê°€ ì—´ë¦½ë‹ˆë‹¤.");
</script>

</body>
</html>
